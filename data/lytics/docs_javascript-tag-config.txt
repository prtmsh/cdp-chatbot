JavaScript Tag Config
Jump to ContentHomeDocumentationAPI ReferenceProduct UpdatesCommunityv2.0v2.1v3.0Log InDocumentationLog Inv3.0HomeDocumentationAPI ReferenceProduct UpdatesCommunityJavaScript Tag ConfigSearchQuick StartDeveloper Quickstart1. Install the Lytics Tag2. Content Setup3. Surface Personalized MessageBuilding ProfilesDefault AttributesDefault SegmentsGuides & InspirationLead CaptureContent RecommendationsAccount ManagementWhat is Vault?Accessing AccountsMonitoring Metrics and AlertsJob AlertsMonitoring Audit LogsExporting Audit Logs or Alert JobsMonitoring MetricsUsage MetricsManaging UsersSingle Sign-OnAccount SettingsAccount DetailsJavaScript Tag ConfigPersonalization APIContent ServicesSecurityAI & Modeling ControlsSchema ControlsData PoliciesPlatform LimitsPrivacy and Data ProtectionImpact of Browser Tracking ChangesComplianceAuthorizationsAccess TokensKey ConceptsIdentity ResolutionConsent & PrivacyComplying with the Digital Markets Act (DMA)Client & Server Side CookiesContent AffinityContent CurationTopic TaxonomyArchitectureIntegration PatternsJob ProcessingLytics Platform Data Flow and AccessCDI and CDP Implementation StrategyLytics Zero Copy with Cloud ConnectPipeline & ProfilesData PipelineJobs (Data Sources and Exports)Data StreamsStream Routing APITemplatesCreating Templates Using the UICreating Templates using Lytics APIUsing the Jsonnet LibraryTemplate ExamplesSchema ManagementFields & MappingsAdvanced Mapping FunctionsMeta FieldsQueries & LQLIdentity Key RanksSchema VersionsPlanning & TroubleshootingLytics Profile SchemaSchema CopilotIdentityMerge StatisticsIdentity ExplorerIdentity RulesWarehouse AccessWhat is Cloud Connect?Connecting WarehousesData Models & QueriesActivating Data ModelsCloud Connect Troubleshooting and FAQsAudiences & ActivationUser ProfilesUnderstanding Profile HealthFinding a UserAudiencesAudience GroupsPrebuilt AudiencesReportsWhat are Reports?ComponentsManaging ReportsDashboard ReportContentTopics & AffinitiesTopicsAffinitiesUsing Topics & AffinitiesClassificationEnrichmentRecommendationsDocumentsContent CollectionsCreating Content CollectionsViewing, Using & Managing CollectionsInterest EnginesDefault Interest EngineCustom Interest EnginesCollaborative FiltersLookalike Models & AudiencesGetting StartedBuilding Lookalike ModelsEvaluating Lookalike ModelsCreating Lookalike AudiencesImproving Lookalike ModelsActivationDestinationsGoalsExperiencesBehavioral ScoresTutorialsLeveraging User ProfilesAccessing Profiles Client SideAccessing Profiles Server SideWorking with Anonymous ProfilesGet Started with Lytics SegmentsInline Content RecommendationsData Collection & OnboardingWorking with Custom DataWorking with Web DataCollect Mobile Data with Firebase + GTMData ManagementProfile Stitching Best PracticesMigrating from Queries to Conductor SchemaLQL & Data Import BasicsUse CasesAcquire New Customers with LyticsBest Practices for Personalizing Your Ad or Search Landing PageCapture More Information from Qualified LeadsContent Modularization in Email with Lytics AudiencesCustomize your Web Experiences with Branded ImagesDeliver Targeted ContentDrive Email Capture & Engagement with ContentDrive Mobile App Downloads With LyticsEngage Qualified Users with Targeted AdsEnhance Personalized Messaging with User Profile FieldsGrow Your Email Marketing ListImport an Audience from your Data WarehouseImprove Ad Campaign Metrics with Predictive TargetingIncrease Conversions with Lytics and Facebook LookalikeKeep Visitors Engaged with Content Recommendation ExperiencesLeverage Lookalike Models and Predictive AudiencesLookalike Models: Conserve marketing spend on engaged usersLookalike Models: Convert anonymous users to known usersLookalike Models: Convert single purchasers to multi-purchasersLookalike Models: Determine which subscribers are likely to churnMobile Messaging with Lytics Webhooks and Serverless FunctionsOptimize Remarketing SpendPersonalize the Messaging of your Website Based on AudiencePopulate Your Website With One-to-One Content RecommendationsPromote Relevant Content to Users based on their InterestsReach the Right People Using LyticsRetain Existing Customers With LyticsPersonalize your Iterable emails With Lytics content recommendationsBuild a Custom Personalized Experience With Video ContentUnlock Additional Web Personalization Features with Lytics API OverridesHow to Use GTM Tags to Modify Lytics Pathfora Widget BehaviorStyle your Lytics Web Experiences to Fit Your Brand GuidelinesSDKs & ToolsWebJavaScriptOn-site PersonalizationSubresource Integrity (SRI)MobileiOSReact NativeAndroidChrome ExtensionIntegrationsLytics Integration OptionsAcousticAdobeAdRollAirshipAmplitudeAmazon AdsAmazon KinesisAmazon PinpointAmazon RedshiftAmazon S3Amazon SQSAnsiraBigCommerceBlueKaiBlueshiftBrazeBrevoCampaign MonitorCheetah DigitalClearbitContentfulCordialCriteoCustomer.ioDatabricksDotdigitalDriftEpiserverFullContactGIGYAGoogle OptimizeGoogle Ad Manager (DFP)Google AdsGoogle BigQueryGoogle Cloud Pub/SubGoogle Cloud StorageGoogle DriveGoogle Marketing: Analytics, DV360, CM360Google Cloud OperationsGoogle Tag ManagerHubSpotiContactInsiderIterableJebbitKlaviyoLeadsquaredLinkedInLiveRampLocalyticsLookerLotameLytics File ServiceLytics MonitoringMailchimpMailgunMandrillMappMapp: BlueHornetMarketoMaropostMediaMathMetaMicrosoftMicrosoft AzureMicrosoft TeamsMixpanelNetSuiteNew RelicOmedaOneSignalOneTrustOracle Marketing Cloud: EloquaPinterestPostUpRadarRedditResponsysRetention ScienceSailthruSalesforceSalesforce DMP (Krux)Salesforce Marketing CloudSalesforce PardotSegment.comSelligentSendGridShopifySitecoreSlackSnapchatSnowflakeSparkPostSurveyMonkeySwrveTaboolaTealiumTikTokThe Trade DeskUnified ID 2.0VersiumWebhooksWebhook TemplatesWistiaX AdsYahoo AdsZapierZendeskZuoraContentstackPartnersPartner TypesLytics CommunicationLegacyInsightsImporting External ExperiencesIDP-initiated SSO (legacy)Web PersonalizationIntroductionDrive Traffic CampaignCollect Leads CampaignPresent a Message CampaignRecommend Content CampaignCampaign ReportingCampaign ManagementBuilding Audiences with Campaign DataJavaScript Tag ConfigConfiguration options for the core JavaScript SDK. Suggest EditsThe following configuration options are available within the account settings JavaScript Tag section.
Client Side Integrations
A set of client-side integrations is facilitated by the core Lytics SDK. Each of those integrations is either deployed or disabled based on a series of checkboxes under the "Client Side Integrations" section. Each of those options follows the pattern outlined below.
Checking the box enables the integration and will result in either audience membership or attributes being passed to a partner if that particular integration's associated tags and configurations are also in place on the page.
Client-side integrations supported out of the box:
Amazon DSP: Allow Lytics to pass the current visitor's _uid to Amazon DSP for improved identity resolution.
Amazon DSP Confirmation Events: If false, confirmation events will not be sent to the amazon_dsp stream upon successful sync completion.
Criteo: Allow Lytics to pass the current visitor's _uid to Criteo and receive a Criteo GUM ID for improved identity resolution.
Google Ads Partner API: Allow Lytics to use the Google Partner API to make Google Ads calls.
Google Analytics 4 (GA4): Allow Lytics to pass the current visitor's _uid and audience membership to GA4.
Google DV360: Allow Lytics to pass the current visitor's _uid to Google DV360 and receive a unique DV360 ID for improved identity resolution.
Krux: Allow Lytics to pass the current visitor's _uid to Krux for improved identity resolution.
Lotame: Allow Lytics to pass the current visitor's _uid to Lotame for improved identity resolution.
Taboola: Allow Lytics to pass the current visitor's _uid to Taboola and receive a unique Taboola ID for improved identity resolution.
The Trade Desk: Allow Lytics to pass the current visitor's _uid to The Trade Desk and receive a unique Trade Desk ID for improved identity resolution.
Yahoo Ads: Allow Lytics to pass the current visitor's _uid to Yahoo and receive a unique Yahoo ID for improved identity resolution.
In addition to those outlined above, many automatic client-side integrations are included within the Lytics core SDK. These integrations automatically sync enabled profile data with other tools if those tools have been configured on your site, too. For instance, Lytics will sync audience membership for the current visitor with Meta if the Meta pixel is also present on the page. To prevent these syncs, each integration can be blocked by adding the proper key to the "Integrations Blocklist" as outlined below:
In this example, we have added the "google_analytics_dimensions" slug to the blocklist to prevent sending profile data to custom dimensions in Google Universal Analytics.
Available client-side integrations and their associated slugs:
NameSlugDescriptionAdrolladrollAdds a record named adroll_segments to the user, which houses audience membership.AddThisadd_thisAdds the current audience membership to the __attag cookie.Amazon DSPamazonAdds the Amazon DSP pixel to the site.Facebook Adsfacebook_adsPushes Lytics audience membership as an array to the custom Lytics Audiences value for the user.Google Analyticsgoogle_analytics_dimensionsPushes audience membership as a comma-separated string to a predefined custom dimension. It also emits a noninteraction event each time the sync occurs for a user.Google DFPgoogle_dfpSets audience membership to a targeting param with the name LyticsSegments.Google Tag ManagergtmCollects the dataLayer object when the Lytics tag loads. It also passes audience membership to GTM as a push event.KruxkruxAdds the Krux pixel to the site.LotamelotameAdds the Lotame pixel to the site.OptimizelyoptimizelyPushes a custom tag with the audience membership.PathforapathforaAllows for the installation of Pathfora (Lytics
Personalization SDK).QubitqubitCollects the universal_variable object when the Lytics tag loads.Lytics Audience Cookiesegments_cookieStores current audience membership for the user as a cookie.TaboolataboolaAdds the Taboola pixel to the site.TealiumtealiumCollects the utag_data object when the Lytics tag loads.
JavaScript Tag TTL (3.0)
The amount of time to cache the core JavaScript SDK in seconds. This should be used only during testing to ensure settings configured are reflected more often, but it may result in degraded performance for high-traffic production use.
Enable pageview event on first send (3.0)
Enables the automatic pageview event (_e: pv) in the first send event of every page load in JStag v3.
Allow Pathfora
Check this box to allow the Lytics JavaScript tag to automatically add the Pathfora personalization library to your site (default). Uncheck to disable any Pathfora-powered web-based personalization.
Allow Event Block
Check this box to allow the Lytics JavaScript tag to automatically add the Pathfora personalization library to your site (default). Uncheck to disable any Pathfora-powered web-based personalization.0: Turns event block off.1: Turns event block on if there are one or more active Lytics Experiences.2: Turns event block on permanently at all times.
Global Stylesheet URL (CSS)
This custom stylesheet will be loaded in support of Lytics-managed Experiences.
URL Allowlist for Orchestration (Experiences)
List of strings that, if matched, will result in Experiences being evaluated in place of legacy campaign variations.
Personalization (Pathfora SDK) Generalized Config
The hashed JSON configuration is to be loaded globally for all Lytics-managed experiences.
Custom Cookie Keys
A list of cookie names that should be automatically collected by the core Lytics SDK.
Custom Data Layer
A list of JavaScript variables that should be automatically collected by the core Lytics SDK.
Disable Automatic Initial Pageview (2.0 - Deprecated)
Disable the automatic pageview event in the JStag v2 if pageview events are being sent manually.
Jstag2 Segment Cookie Duration (2.0 - Deprecated)
The number of minutes the ly_segs cookie that contains an individual's current audience memberships should persist. Defaults to 30 days if left blank.Updated about 1 year ago Table of Contents
Client Side Integrations
JavaScript Tag TTL (3.0)
Enable pageview event on first send (3.0)
Allow Pathfora
Allow Event Block
Global Stylesheet URL (CSS)
URL Allowlist for Orchestration (Experiences)
Personalization (Pathfora SDK) Generalized Config
Custom Cookie Keys
Custom Data Layer
Disable Automatic Initial Pageview (2.0 - Deprecated)
Jstag2 Segment Cookie Duration (2.0 - Deprecated)
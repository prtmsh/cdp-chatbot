DOCSDOCSHomeGuidesDevelopersIntegrationsChangelogSign UpDocumentationDevelopersAPI ReferencesPlatform APIPlatform API OverviewAccountsAppsAudiencesCalculated AttributesData PointsFeedsField TransformationsServicesUsersWorkspacesData Subject Request APIData Subject Request API Version 1 and 2Data Subject Request API Version 3Warehouse Sync APIWarehouse Sync API OverviewWarehouse Sync API TutorialWarehouse Sync API ReferenceData MappingWarehouse Sync SQL ReferenceWarehouse Sync Troubleshooting GuideComposeIDWarehouse Sync API v2 MigrationCalculated Attributes Seeding APIBulk Profile Deletion API ReferenceCustom Access Roles APIData Planning APIGroup Identity API ReferencePixel ServiceProfile APIEvents APImParticle JSON Schema ReferenceIDSyncClient SDKsAMPAMP SDKAndroidInitializationConfigurationNetwork Security ConfigurationEvent TrackingUser AttributesIDSyncScreen EventsCommerce EventsLocation TrackingMediaKitsApplication State and Session ManagementData Privacy ControlsError TrackingOpt OutPush NotificationsWebView IntegrationLoggerPreventing Blocked HTTP Traffic with CNAMELinting Data PlansTroubleshooting the Android SDKAPI ReferenceUpgrade to Version 5CordovaCordova PluginIdentityDirect Url RoutingDirect URL Routing FAQWebAndroidiOSFlutterGetting StartedUsageAPI ReferenceiOSInitializationConfigurationEvent TrackingUser AttributesIDSyncScreen TrackingCommerce EventsLocation TrackingMediaKitsApplication State and Session ManagementData Privacy ControlsError TrackingOpt OutPush NotificationsWebview IntegrationUpload FrequencyApp ExtensionsPreventing Blocked HTTP Traffic with CNAMELinting Data PlansTroubleshooting iOS SDKSocial NetworksiOS 14 GuideiOS 15 FAQiOS 16 FAQiOS 17 FAQiOS 18 FAQAPI ReferenceUpgrade to Version 7RokuGetting StartedIdentityMediaReact NativeGetting StartedIdentityUnityUpload FrequencyGetting StartedOpt OutInitialize the SDKEvent TrackingCommerce TrackingError TrackingScreen TrackingIdentityLocation TrackingSession ManagementXboxGetting StartedIdentityWebInitializationConfigurationContent Security PolicyEvent TrackingUser AttributesIDSyncPage View TrackingCommerce EventsLocation TrackingMediaKitsApplication State and Session ManagementData Privacy ControlsError TrackingOpt OutCustom LoggerPersistenceNative Web ViewsSelf-HostingMultiple InstancesWeb SDK via Google Tag ManagerPreventing Blocked HTTP Traffic with CNAMEFacebook Instant ArticlesTroubleshooting the Web SDKBrowser CompatibilityLinting Data PlansAPI ReferenceUpgrade to Version 2 of the SDKXamarinGetting StartedIdentityWebAlexaMedia SDKsAndroidiOSWebToolsmParticle Command Line InterfaceLinting ToolsSmartypeServer SDKsNode SDKGo SDKPython SDKRuby SDKJava SDKQuickstartAndroidOverviewStep 1. Create an inputStep 2. Verify your inputStep 3. Set up your outputStep 4. Create a connectionStep 5. Verify your connectionStep 6. Track eventsStep 7. Track user dataStep 8. Create a data planStep 9. Test your local appHTTP Quick StartStep 1. Create an inputStep 2. Create an outputStep 3. Verify outputiOS Quick StartOverviewStep 1. Create an inputStep 2. Verify your inputStep 3. Set up your outputStep 4. Create a connectionStep 5. Verify your connectionStep 6. Track eventsStep 7. Track user dataStep 8. Create a data planJava Quick StartStep 1. Create an inputStep 2. Create an outputStep 3. Verify outputNode Quick StartStep 1. Create an inputStep 2. Create an outputStep 3. Verify outputPython Quick StartStep 1. Create an inputStep 2. Create an outputStep 3. Verify outputWebOverviewStep 1. Create an inputStep 2. Verify your inputStep 3. Set up your outputStep 4. Create a connectionStep 5. Verify your connectionStep 6. Track eventsStep 7. Track user dataStep 8. Create a data planGuidesPartnersIntroductionOutbound IntegrationsOutbound IntegrationsFirehose Java SDKInbound IntegrationsKit IntegrationsOverviewAndroid Kit IntegrationJavaScript Kit IntegrationiOS Kit IntegrationCompose IDData Hosting LocationsGlossaryMigrate from Segment to mParticleMigrate from Segment to mParticleMigrate from Segment to Client-side mParticleMigrate from Segment to Server-side mParticleSegment-to-mParticle Migration ReferenceRules Developer GuideAPI Credential ManagementThe Developer's Guided Journey to mParticleGuidesGetting StartedCreate an InputStart capturing dataConnect an Event OutputCreate an AudienceConnect an Audience OutputTransform and Enhance Your DataPersonalizationIntroductionProfilesAudiencesAudiences OverviewCreate an AudienceConnect an AudienceManage AudiencesReal-time Audiences (Legacy)Standard Audiences (Legacy)Calculated AttributesCalculated Attributes OverviewUsing Calculated AttributesCreate with AI AssistanceCalculated Attributes ReferencePredictive AudiencesPredictive Audiences OverviewUsing Predictive AudiencesJourneysJourneys OverviewManage JourneysDownload an audience from a journeyAudience A/B testing from a journeyJourneys 2.0Predictive AttributesWhat are predictive attributes?Predict Future BehaviorCreate Future PredictionUse Future Predictions in CampaignsAssess and Troubleshoot PredictionsNext Best ActionNext Best Action OverviewCreate a Next Best Action (NBA)View and Manage NBAsActivate Next Best Actions in CampaignsPlatform GuideBillingUsage and Billing ReportThe New mParticle ExperienceThe new mParticle ExperienceThe Overview MapObservabilityObservability OverviewObservability User GuideObservability Troubleshooting ExamplesObservability Span GlossaryIntroductionData RetentionConnectionsActivityLive StreamData FilterRulesTiered EventsmParticle Users and RolesAnalytics Free TrialTroubleshooting mParticleUsage metering for value-based pricing (VBP)AnalyticsIntroductionSetupSync and Activate Analytics User Segments in mParticleUser Segment ActivationWelcome Page AnnouncementsSettingsProject SettingsRoles and TeammatesOrganization SettingsGlobal Project FiltersPortfolio AnalyticsAnalytics Data ManagerAnalytics Data Manager OverviewEventsEvent PropertiesUser PropertiesRevenue MappingExport DataUTM GuideQuery BuilderData DictionaryQuery Builder OverviewModify Filters With And/Or ClausesQuery-time SamplingQuery NotesFilter Where ClausesEvent vs. User PropertiesGroup By ClausesAnnotationsCross-tool CompatibilityApply All for Filter Where ClausesDate Range and Time Settings OverviewUser Attributes at Event TimeUnderstanding the Screen View EventAnalysesAnalyses IntroductionSegmentation: BasicsGetting StartedVisualization OptionsFor ClausesDate Range and Time SettingsCalculatorNumerical SettingsSegmentation: AdvancedAssisted AnalysisProperties ExplorerFrequency in SegmentationTrends in SegmentationDid [not] Perform ClausesCumulative vs. Non-Cumulative Analysis in SegmentationTotal Count of vs. Users Who PerformedSave Your Segmentation AnalysisExport Results in SegmentationExplore Users from SegmentationFunnels: BasicsGetting Started with FunnelsGroup By SettingsConversion WindowTracking PropertiesDate Range and Time SettingsVisualization OptionsInterpreting a Funnel AnalysisFunnels: AdvancedGroup ByFiltersConversion over TimeConversion OrderTrendsFunnel DirectionMulti-path FunnelsAnalyze as Cohort from FunnelSave a Funnel AnalysisExplore Users from a FunnelExport Results from a FunnelCohortsGetting Started with CohortsAnalysis ModesSave a Cohort AnalysisExport ResultsExplore UsersSaved AnalysesManage Analyses in DashboardsJourneysGetting StartedEvent MenuVisualizationEnding EventSave a Journey AnalysisUsersGetting StartedUser Activity TimelinesTime SettingsExport ResultsSave A User AnalysisDashboardsDashboards––Getting StartedManage DashboardsDashboard FiltersOrganize DashboardsScheduled ReportsFavoritesTime and Interval Settings in DashboardsQuery Notes in DashboardsUser AliasingAnalytics ResourcesThe Demo EnvironmentKeyboard ShortcutsTutorialsAnalytics for MarketersAnalytics for Product ManagersCompare Conversion Across Acquisition SourcesAnalyze Product Feature UsageIdentify Points of User FrictionTime-based Subscription AnalysisDashboard Tips and TricksUnderstand Product StickinessOptimize User Flow with A/B TestingUser SegmentsAPIsUser Segments Export APIDashboard Filter APIIDSyncIDSync OverviewUse Cases for IDSyncComponents of IDSyncStore and Organize User DataIdentify UsersDefault IDSync ConfigurationProfile Conversion StrategyProfile Link StrategyProfile Isolation StrategyBest Match StrategyAliasingData MasterGroup IdentityOverviewCreate and Manage Group DefinitionsIntroductionCatalogLive StreamData PlansData PlansBlocked Data Backfill GuideWarehouse SyncData Privacy ControlsData Subject RequestsDefault Service LimitsFeedsCross-Account Audience SharingApproved Sub-ProcessorsImport Data with CSV FilesImport Data with CSV FilesCSV File ReferenceGlossaryVideo IndexAnalytics (Deprecated)Identity ProvidersSingle Sign-On (SSO)Setup ExamplesSettingsDebug ConsoleData Warehouse Delay AlertingIntroductionDeveloper DocsIntroductionIntegrationsIntroductionRudderstackGoogle Tag ManagerSegmentData Warehouses and Data LakesAdvanced Data Warehouse SettingsAWS Kinesis (Snowplow)AWS Redshift (Define Your Own Schema)AWS S3 Integration (Define Your Own Schema)AWS S3 (Snowplow Schema)BigQuery (Snowplow Schema)BigQuery Firebase SchemaBigQuery (Define Your Own Schema)GCP BigQuery ExportSnowflake (Snowplow Schema)Snowplow Schema OverviewSnowflake (Define Your Own Schema)APIsREST APIDashboard Filter API (Deprecated)User Segments Export API (Deprecated)SDKsSDKs IntroductionReact NativeiOSAndroidJavaJavaScriptPythonObject APIDeveloper BasicsAliasingIntegrations24iEventAarkiAudienceAbakusEventAdChemixEventABTastyAudienceActableFeedAdikteevAudienceEventAdjustFeedEventAdobe Marketing CloudCookie SyncPlatform SDK EventsServer-to-Server EventsAdobe Audience ManagerAudienceAdobe Campaign ManagerAudienceAdobe TargetAudienceAgilOneEventAdMediaAudienceAirshipAudienceEventFeedAdPredictiveFeedAlgoliaEventAlgoLiftEventFeedAloomaEventAmazon KinesisEventAmazon AdvertisingAudienceAmazon RedshiftData WarehouseAmazon S3EventAmazon Kinesis FirehoseAudienceEventAmazon SNSEventAmazon SQSEventAmobeeAudienceAmplitudeEventForwarding Data Subject RequestsAmpushAudienceEventAnalyticsAudienceEventForwarding Data Subject RequestsAnodotEventAntavoFeedApptentiveEventAppsFlyerEventForwarding Data Subject RequestsFeedApptimizeEventApteligentEventAttentiveEventFeedMicrosoft Azure Blob StorageEventAttractorEventBatchAudienceEventBideaseAudienceBing AdsEventBluecoreEventBluedotFeedBlueshiftEventFeedForwarding Data Subject RequestsBranchEventForwarding Data Subject RequestsFeedBranch S2S EventEventBrazeAudienceFeedForwarding Data Subject RequestsEventBugsnagEventButtonAudienceEventCadentAudienceCensusFeedciValueEventFeedCleverTapAudienceEventFeedcomScoreEventConversantEventCordialAudienceFeedCortexEventFeedForwarding Data Subject RequestsCrossing MindsEventCriteoAudienceEventCustom FeedCustom FeedCustomerGluEventFeedCustomer.ioAudienceEventFeedDatabricksData WarehouseDidomiEventDatadogEventDynamic YieldEventAudienceDynalystAudienceEdge226AudienceEmarsysAudienceEpsilonEventEverflowAudienceFacebook Offline ConversionsEventFacebookAudienceEventFiksuAudienceEventGoogle Analytics for FirebaseEventFlurryEventFlybitsEventForeSeeEventFormationEventFeedFoursquareFeedAudienceFreeWheel Data SuiteAudienceGoogle Ad ManagerAudienceGoogle AdsAudienceEventGoogle AnalyticsEventGoogle Analytics 4EventGoogle Cloud StorageAudienceEventGoogle BigQueryAudienceData WarehouseGoogle Enhanced ConversionsEventGoogle Marketing PlatformCookie SyncAudienceEventGoogle Marketing Platform Offline ConversionsEventGoogle Pub/SubEventGoogle Tag ManagerEventHeapEventHerowFeedHightouchFeedHyperlocologyEventIbottaEventImpactEventInMobiAudienceEventIndicativeAudienceEventInMarketAudienceIntercomEventInsiderEventAudienceFeedInspectletEventiPostAudienceFeedIterableAudienceFeedEventironSourceAudienceJamppAudienceEventKafkaEventKayzenAudienceEventKissmetricsEventKlaviyoEventAudienceKubitEventKochavaEventForwarding Data Subject RequestsFeedLaunchDarklyFeedLeanplumEventFeedAudienceLifeStreetAudienceLiftoffEventAudienceLiveLikeEventLiverampAudienceLocalyticsEventmAdme TechnologiesEventMadHiveAudienceMailchimpFeedAudienceEventMauticEventAudienceMarigoldAudienceMediaMathAudienceMediasmartAudienceMicrosoft Azure Event HubsEventMintegralAudienceMixpanelAudienceEventForwarding Data Subject RequestsMolocoAudienceEventMoEngageAudienceEventFeedMonetateEventMovable InkEventMovable Ink - V2EventmyTargetAudienceEventNami MLFeedMultipliedEventNanigansEventNarrativeAudienceEventFeedNCR AlohaEventNeuraEventOneTrustEventOptimizelyAudienceEventOracle BlueKaiEventOracle ResponsysAudienceEventPaytronixFeedPersona.lyAudiencePieEyeInbound Data Subject RequestsPersonify XPEventPilgrimEventFeedPlarinEventPinterestAudienceEventPostieAudienceEventPunchhAudienceEventFeedAppLovinAudienceEventPrimerEventQuantcastEventPushwooshEventAudienceRadarEventFeedRedditAudienceEventRegalEventRemergeAudienceEventRetina AIEventFeedReveal MobileEventRevenueCatFeedRoktAudienceEventRTB HouseAudienceEventSalesforce EmailAudienceFeedEventSailthruAudienceEventSalesforce Mobile PushEventSamba TVAudienceEventScalarrEventSessionMEventFeedSendGridAudienceFeedShareThisAudienceFeedShopifyCustom PixelFeedSignalEventSingularFeedEventSimpleReachEventSingular-DEPRECATEDEventSkyhookEventSmadexAudienceSlackEventSmarterHQEventSnapchatAudienceEventSnapchat ConversionsEventSnowplowEventSplitEventFeedSplunk MINTEventSnowflakeData WarehouseSprigEventAudienceStartAppAudienceStatsigFeedEventStormlyAudienceEventTalon.OneAudienceEventFeedLoyalty FeedSwrveEventFeedTapadAudienceTapjoyAudienceTaplyticsEventTapticaAudienceTeakAudienceThe Trade DeskAudienceCookie SyncEventTicketureFeedTikTok EventAudienceAudience (Deprecated)EventAudience MigrationTreasure DataAudienceEventTUNEEventTriton DigitalAudienceValidEventTwitterAudienceEventVkontakteAudienceVoucherifyAudienceEventVungleAudienceWebhookEventWebtrendsEventWhite Label LoyaltyEventWootricEventXandrCookie SyncAudienceYahoo (formerly Verizon Media)AudienceCookie SyncYotpoFeedYouAppiAudienceZendeskEventFeedQuadratic LabsEventZ2A DigitalEventAudienceQualtricsEventEventAmplitude provides product analytics that helps companies leverage cross-platform behavioral data to drive user growth.
Supported Features
Analytics
Data Export
Real-Time Dashboards
Retroactive Funnels
Prerequisites
To activate mParticle’s integration with Amplitude, you need the Amplitude API Key for each app that you’d like to set up.
Your API key is listed on the Amplitude Project Settings page.
The Amplitude integration requires the mParticle Amplitude Kit when connected to a web input. If you are initializing the web SDK using the Snippet Option then the Kit is automatically included for you. If you are Self Hosting the SDK then you need to add this kit manually into your source code.
Data Processing Notes
mParticle will forward User Identities and Attributes to Amplitude, even if there are no events in the batch.
Device/User ID Mapping
Every event in Amplitude has a main Device ID field. mParticle populates this field as follows:
For Android, the Android ID (falling back to the Android Advertising ID if unavailable)
For iOS, the IDFA (falling back to the IDFV if unavailable)
For Roku, the Roku Advertising ID (falling back to the Roku Publisher ID if not available)
For FireTV, the Fire Advertising ID.
Amplitude also has dedicated fields for particular Device IDs, such as IDFA and Android ID. These will be populated if the ID is available. See
Field Mappings, for more information.
Amplitude requires either a Device ID or a User ID. User ID can be mapped as Email, Customer ID or mParticle ID. If no accepted identifiers are present, data will not be forwarded.
Forwarding Web Data
By default, mParticle forwards web data to Amplitude client-side, by directly invoking Amplitude’s Javascript methods. Optionally, you can choose to forward web data server-to-server in the Connection Settings. Note that if you choose this option, your incoming data must have your selected User ID to be forwarded.
Data Localization
By default, mParticle sends data to the Amplitude organization’s US endpoint for the HTTP API, but Amplitude offers a different endpoint for EU organizations. In mParticle, the Amplitude Organization Configuration Setting allows you to select a target Amplitude organization location.
Event Data Mapping
Screen Views
mParticle will forward all screen views to Amplitude with the Amplitude Event Type set to “Viewed ScreenName”, where ScreenName is the screen name passed to the logScreen SDK method (or the name of the screen’s Activity class if you’re using automatic screen tracking on Android).
Session Forwarding
mParticle will forward all session start and session end events to Amplitude with the Amplitude Event Type set to session_start and session_end.
eCommerce Event Forwarding
Each valid eCommerce event sent to mParticle is expanded into multiple events before being translated and forwarded to Amplitude. While this expansion applies to all eCommerce transactions, the resulting events are dependent on the type of eCommerce event being forwarded and the number of products in the event.
Note: mParticle will not attempt to forward eCommerce Events to Amplitude which contain no Products.
The eCommerce events resulting from the expansion that may be forwarded to Amplitude are:
Transaction level events (e.g. eCommerce - Purchase)
Item level events (e.g. eCommerce - Purchase - Item)
Revenue events (e.g. [Amplitude] Revenue)
Transaction Event
One Transaction Event is forwarded to Amplitude for every valid eCommerce event provided.
Contains a summary of the transaction, including a JSON array of the products sent in the initial eCommerce event.
Item Events
One Item Event is forwarded to Amplitude for every product inside the provided eCommerce event.
Each Item event contains information about one of the products in the provided eCommerce event.
Revenue Event
One Revenue Event is forwarded to Amplitude for every valid Purchase or Refund eCommerce event provided. Otherwise none is sent.
The name of the Revenue Event is set by Amplitude, and contains revenue information about the Purchase or Refund event.
eCommerce Event Naming
Each valid eCommerce event sent to mParticle will result in a transaction level event being sent to Amplitude. This event contains a summary of the transaction, including a JSON array of the products sent in the initial eCommerce event.
The name given to the Transaction and Item Level Events is determined from the Product Action provided on the eCommerce Event sent to mParticle.
Event Product Action
Transaction Level Event Name
Item Level Event Names
Revenue Event Name
add_to_cart
eCommerce - AddToCart
eCommerce - AddToCart - Item
N/A
remove_from_cart
eCommerce - RemoveFromCart
eCommerce - RemoveFromCart - Item
N/A
checkout
eCommerce - Checkout
eCommerce - Checkout - Item
N/A
checkout_option
eCommerce - CheckoutOption
eCommerce - CheckoutOption - Item
N/A
click
eCommerce - Click
eCommerce - Click - Item
N/A
view_detail
eCommerce - ViewDetail
eCommerce - ViewDetail - Item
N/A
purchase
eCommerce - Purchase
eCommerce - Purchase - Item
[Amplitude] Revenue
refund
eCommerce - Refund
eCommerce - Refund - Item
[Amplitude] Revenue
add_to_wishlist
eCommerce - AddToWishlist
eCommerce - AddToWishlist - Item
N/A
remove_from_wish_list
eCommerce - RemoveFromWishlist
eCommerce - RemoveFromWishlist - Item
N/A
Custom Event Forwarding
Custom events logged via mParticle’s logEvent SDK method and their attributes will be forwarded to Amplitude, with the event name passed to logEvent as the Amplitude Event Type. An event name must be specified or an error will be returned.
Attribution Custom Event Forwarding
Attribution Custom events will be forwarded to Amplitude prefixed with the attribution provider in the event name.
For example, [AppsFlyer] attribution.
Event Attributes that are included with the event are forwarded to Amplitude in user_properties, also prefixed with the attribution provider.
Push Registration
mParticle will forward all push registration events to Amplitude with the Amplitude Event Type set to Push Registration. All Field Mappings defined in this documentation will be forwarded too.
Application State Transition Forwarding
If the Send Application State Transitions setting is enabled, Application State Transition events will be forwarded to Amplitude as follows:
Application State Transition
Amplitude event type
initialized, is_first_run = true
Install
initialized, is_upgrade = true
Upgrade
initialized
Application Initialized
exit
Application Exit
background
Application Background
foreground
Application Foreground
Field Mappings
Parameter
Amplitude Field
mParticle Details
Android ID
android_id
Passed if OS is Android
Android Advertising ID
adid
Passed if OS is Android
Application Version
app_version
Application Version
Brand
device_brand
The device brand the user is on.
This is not passed for Apple devices.
Carrier
device_carrier
Device Carrier
City
city
City the user is in; this is also included in User Properties
Country
Country the user is in; this is also included in User Properties
Country
Designated Market Area
DMA
If you wish to forward this property to Amplitude, you must set it as a custom user attribute, labeled dma.
Device ID
device_id
Set based on Operating System;
see Device/User ID Mapping
Email
If the Include Email in User Properties setting is enabled, email is included in user_properties
Email
Event Properties
event_properties
All event attributes included with eCommerce, Custom and Screen View events.
See above for Attribution Custom Events.
Event Type
event_type
Described above for each supported event
IDFA
idfa
Passed if OS is iOS or tvOS
Insert ID
insert_id
A unique id for the event derived from the event name and the event and session_start timestamps
IP Address
ip
IP address of the user
Language
language
Language the user has set
Latitude
location_lat
Latitude of the user
Library
library
A label for the source of data which is visible in the Amplitude dashboard. This will always be set to ‘mParticle’
Longitude
location_lng
Longitude of the user
Manufacturer
device_manufacturer
Device Manufacturer
Model
device_model
Device Model
OS Name
os_name
iOS, tvOS, Android, Roku
OS Version
os_version
The version of the mobile OS or browser the user is on
Platform
platform
iOS, Android, Apple TV, Web, Roku
Region
region
Region (or State) the user is in; this is also included in User Properties
Session Start Time
session_id
Session Start Timestamp
Time
time
Event Timestamp, in milliseconds
User ID
user_id
Set based on the value of the User Identification setting
User Properties
user_properties
All user attributes included with the event.
See above for Attribution Custom Events.
Server to Server Web Requests
Only for web requests, mParticle will extract OS and browser info from HTTP user agent.
Similar to Amplitude’s SDK behavior, os_name and os_version will be populated with browser info. For that reason, mParticle will send 2 additional Custom User Properties, web_os_name and web_os_version, that will contain OS info. See Amplitude’s doc.
mParticle will also populate device_brand and device_model from the HTTP user agent if the Extract Device Family from User Agent setting is enabled. With this setting enabled, if mParticle cannot determine the device brand or model, it will populate device_brand with the same value as is set for web_os_name. Note, the device values may differ slightly between S2S events and events sent through the Amplitude web kit.
Configuration Settings
Setting Name
Data Type
Default Value
Description
API Key
string
NULL
The Amplitude API Key for each app that you set up.
Amplitude Organization
string
US Organization
The Amplitude datacenter that is configured for your Amplitude organization.
Use Batch API Endpoint
bool
False
If enabled, the Amplitude batch API endpoint will be used. The endpoint has a higher rate limit but may have a slight delay in delivering events. Please note that if the request is replayed, the batch API endpoint will always be used regardless of this configuration value.
Connection Settings
Setting Name
Data Type
Default Value
Platform
Description
User Identification
string
customerId
All
To identify users, choose “Customer ID” to send Customer ID if provided, “Email” to send Email addresses if provided, or “MPID” to send mParticle ID.
You can map other IDs by selecting any of the “Other” fields from the User Identification drop-down. These fields can be used to map Other IDs as
Customer IDs.
Anonymous ID forwarding
enum
Unselected
All
If enabled, mParticle will send an identifier derived from either Device Application Stamp or a combination of Device Application Stamp and MPID when another device ID does not exist on the batch. This setting is only supported for server-side forwarding. Note, for partner feeds, the value of Device Application Stamp is the same for all MPIDs.
Include Email in User Properties
bool
False
All
If enabled, the email user identity will be forwarded in the Amplitude user_properties.
Allow unset user attributes
bool
True
All
Allow user attributes to be removed in Amplitude using the $unset operation.
Prefix Attribution with Source
bool
True
All
If enabled, the attribution source name will be prefixed for attribution events.
Include UTM in User Properties
bool
default
Web
If enabled, Amplitude will find the standard UTM parameters from either the URL or the browser cookie and set them as user properties.
Forward Web Requests Server Side
bool
False
Web
If enabled, mParticle will not initialize the full Amplitude integration on the web client. Instead, web data will be forwarded to Amplitude via server-to-server API.
Instance Name
string
default
Web
The name to use for the client-side Amplitude instance configured by mParticle. This should be unique for each Amplitude connection.
Include Enriched User Attributes
bool
True
All
If enabled, mParticle will forward enriched user attributes from the existing user profile.
Send Application State Transitions
bool
False
All
If enabled, application state transitions will be forwarded to Amplitude.
Send Event Attributes as Objects
bool
False
All
If enabled, mParticle will attempt to send event attributes as objects. Attributes should be string values containing serialized JSON. If we are unable to parse JSON from the attribute, we will send it to Amplitude as is. We will parse all valid JSON including objects, arrays, numbers, booleans, and nulls. Note, Amplitude event properties do not support all nested object formats - please see their docs here for details.
Generate Insert ID From Event ID
bool
False
All but Web
If enabled, mParticle will generate insert ID from the event ID. If disabled, insert ID will be generated from a combination of device ID, user ID, event ID, event ID, and time. Insert ID is used by Amplitude for deduplication.
Enable Apple Search Ads
bool
False
iOS, tvOS
If enabled, the Apple Search Ads attributes will be forwarded in the Amplitude user_properties.
Extract Device Family from User Agent
bool
False
Web
If enabled, mParticle will attempt to extract device family information from the provided user agent string. Note, this is only used for server-side web requests. See Server to Server Web Requests for more information.
Last Updated: February 27, 2025DOCSLast Updated:
2/27/2025, 7:45:31 PMCDPmParticle DocsHomeGuidesDevelopersIntegrationsAnalyticsAnalytics DocsOverviewGetting StartedDevelopersExpert TrainingPredictive AICortex DocsOverviewGetting StartedDevelopersUsing CortexLearn MoreBlogPodcastResourcesCommunityChange logGet in TouchHelp CenterDemoBecome a Partner© 2025 mParticle, Inc. All rights reserved.mParticle.comPrivacy PolicyCookie PolicyDo Not Sell or Share My Personal Data